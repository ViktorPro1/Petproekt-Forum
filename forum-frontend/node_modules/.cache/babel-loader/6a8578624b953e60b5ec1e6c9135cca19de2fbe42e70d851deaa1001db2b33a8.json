{"ast":null,"code":"const API_URL = \"http://localhost:5000/api\";\n\n// Auth\nexport const register = async (username, email, password) => {\n  try {\n    const res = await fetch(`${API_URL}/auth/register`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username,\n        email,\n        password\n      })\n    });\n    return await res.json();\n  } catch (err) {\n    return {\n      message: \"Помилка сервера\"\n    };\n  }\n};\nexport const login = async (email, password) => {\n  try {\n    const res = await fetch(`${API_URL}/auth/login`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email,\n        password\n      })\n    });\n    return await res.json();\n  } catch (err) {\n    return {\n      message: \"Помилка сервера\"\n    };\n  }\n};\n\n// Posts\nexport const getPosts = async () => {\n  try {\n    const res = await fetch(`${API_URL}/posts`);\n    return await res.json();\n  } catch {\n    return [];\n  }\n};\nexport const createPost = async (token, category_id, title, content) => {\n  try {\n    const res = await fetch(`${API_URL}/posts`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        category_id,\n        title,\n        content\n      })\n    });\n    return await res.json();\n  } catch {\n    return {\n      message: \"Помилка сервера\"\n    };\n  }\n};\n\n// Comments\nexport const getComments = async postId => {\n  try {\n    const res = await fetch(`${API_URL}/comments/${postId}`);\n    return await res.json();\n  } catch {\n    return [];\n  }\n};\nexport const createComment = async (token, postId, content) => {\n  try {\n    const res = await fetch(`${API_URL}/comments`, {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: `Bearer ${token}`\n      },\n      body: JSON.stringify({\n        post_id: postId,\n        content\n      })\n    });\n    return await res.json();\n  } catch {\n    return {\n      message: \"Помилка сервера\"\n    };\n  }\n};","map":{"version":3,"names":["API_URL","register","username","email","password","res","fetch","method","headers","body","JSON","stringify","json","err","message","login","getPosts","createPost","token","category_id","title","content","Authorization","getComments","postId","createComment","post_id"],"sources":["/home/viktor/Стільниця/forum/forum-frontend/src/services/api.js"],"sourcesContent":["const API_URL = \"http://localhost:5000/api\";\n\n// Auth\nexport const register = async (username, email, password) => {\n    try {\n        const res = await fetch(`${API_URL}/auth/register`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ username, email, password }),\n        });\n        return await res.json();\n    } catch (err) {\n        return { message: \"Помилка сервера\" };\n    }\n};\n\nexport const login = async (email, password) => {\n    try {\n        const res = await fetch(`${API_URL}/auth/login`, {\n            method: \"POST\",\n            headers: { \"Content-Type\": \"application/json\" },\n            body: JSON.stringify({ email, password }),\n        });\n        return await res.json();\n    } catch (err) {\n        return { message: \"Помилка сервера\" };\n    }\n};\n\n// Posts\nexport const getPosts = async () => {\n    try {\n        const res = await fetch(`${API_URL}/posts`);\n        return await res.json();\n    } catch {\n        return [];\n    }\n};\n\nexport const createPost = async (token, category_id, title, content) => {\n    try {\n        const res = await fetch(`${API_URL}/posts`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${token}`\n            },\n            body: JSON.stringify({ category_id, title, content }),\n        });\n        return await res.json();\n    } catch {\n        return { message: \"Помилка сервера\" };\n    }\n};\n\n// Comments\nexport const getComments = async (postId) => {\n    try {\n        const res = await fetch(`${API_URL}/comments/${postId}`);\n        return await res.json();\n    } catch {\n        return [];\n    }\n};\n\nexport const createComment = async (token, postId, content) => {\n    try {\n        const res = await fetch(`${API_URL}/comments`, {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n                Authorization: `Bearer ${token}`\n            },\n            body: JSON.stringify({ post_id: postId, content }),\n        });\n        return await res.json();\n    } catch {\n        return { message: \"Помилка сервера\" };\n    }\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}